{
  "rewrites": [
    // ----- Domain-specific well-known files -----
    {
      "source": "/.well-known/agent.json",
      "has": [{ "type": "host", "value": "remit.bot" }],
      "destination": "/remit/.well-known/agent.json"
    },
    {
      "source": "/.well-known/agent.json",
      "has": [{ "type": "host", "value": "www.remit.bot" }],
      "destination": "/remit/.well-known/agent.json"
    },
    {
      "source": "/.well-known/tools.json",
      "has": [{ "type": "host", "value": "remit.bot" }],
      "destination": "/remit/.well-known/tools.json"
    },
    {
      "source": "/.well-known/tools.json",
      "has": [{ "type": "host", "value": "www.remit.bot" }],
      "destination": "/remit/.well-known/tools.json"
    },

    {
      "source": "/.well-known/agent.json",
      "has": [{ "type": "host", "value": "authorize.bot" }],
      "destination": "/authorize/.well-known/agent.json"
    },
    {
      "source": "/.well-known/agent.json",
      "has": [{ "type": "host", "value": "www.authorize.bot" }],
      "destination": "/authorize/.well-known/agent.json"
    },
    {
      "source": "/.well-known/tools.json",
      "has": [{ "type": "host", "value": "authorize.bot" }],
      "destination": "/authorize/.well-known/tools.json"
    },
    {
      "source": "/.well-known/tools.json",
      "has": [{ "type": "host", "value": "www.authorize.bot" }],
      "destination": "/authorize/.well-known/tools.json"
    },

    {
      "source": "/.well-known/agent.json",
      "has": [{ "type": "host", "value": "usdc.bot" }],
      "destination": "/.well-known/agent.json"
    },
    {
      "source": "/.well-known/agent.json",
      "has": [{ "type": "host", "value": "www.usdc.bot" }],
      "destination": "/.well-known/agent.json"
    },
    {
      "source": "/.well-known/tools.json",
      "has": [{ "type": "host", "value": "usdc.bot" }],
      "destination": "/.well-known/tools.json"
    },
    {
      "source": "/.well-known/tools.json",
      "has": [{ "type": "host", "value": "www.usdc.bot" }],
      "destination": "/.well-known/tools.json"
    },

    // ----- Host-based "root app" routing -----
    // remit.bot root + all paths go under /remit
    {
      "source": "/",
      "has": [{ "type": "host", "value": "remit.bot" }],
      "destination": "/remit"
    },
    {
      "source": "/:path*",
      "has": [{ "type": "host", "value": "remit.bot" }],
      "destination": "/remit/:path*"
    },
    {
      "source": "/",
      "has": [{ "type": "host", "value": "www.remit.bot" }],
      "destination": "/remit"
    },
    {
      "source": "/:path*",
      "has": [{ "type": "host", "value": "www.remit.bot" }],
      "destination": "/remit/:path*"
    },

    // authorize.bot root + all paths go under /authorize
    {
      "source": "/",
      "has": [{ "type": "host", "value": "authorize.bot" }],
      "destination": "/authorize"
    },
    {
      "source": "/:path*",
      "has": [{ "type": "host", "value": "authorize.bot" }],
      "destination": "/authorize/:path*"
    },
    {
      "source": "/",
      "has": [{ "type": "host", "value": "www.authorize.bot" }],
      "destination": "/authorize"
    },
    {
      "source": "/:path*",
      "has": [{ "type": "host", "value": "www.authorize.bot" }],
      "destination": "/authorize/:path*"
    }

    // usdc.bot just uses the normal routes (no rewrite needed)
  ]
}
